# PPT Translator App - 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
PPT Translator App（PowerPoint翻訳アプリケーション）

### 1.2 目的
PowerPointプレゼンテーションファイル（.pptx）を高品質かつ効率的に多言語翻訳するWebアプリケーションを提供し、ビジネスや教育分野でのグローバルコミュニケーションを支援する。

### 1.3 背景
- グローバル化の進展により、プレゼンテーション資料の多言語対応ニーズが増加
- 手動での翻訳作業は時間とコストがかかる
- 既存の翻訳ツールは PowerPoint のレイアウトやデザインを保持できない問題がある
- AI技術の発展により、高品質な自動翻訳が可能になった

### 1.4 スコープ
#### 対象範囲
- PowerPointファイル（.pptx形式のみ）の翻訳
- テキスト要素の抽出と翻訳（表内テキスト含む）
- 翻訳メモリ（TM）・用語集（TB）の管理
- レイアウト・デザインの保持（テキストボックスのみ）
- 翻訳結果の編集・調整機能
- ファイル管理機能
- ユーザー認証・権限管理

#### 対象外（MVPスコープ外）
- 他のファイル形式（.ppt、Word、Excel、PDF等）の翻訳
- スライド内の音声・動画コンテンツの翻訳
- SmartArt、チャート、図形内テキストの完全再現
- マスタースライドの編集
- アニメーション効果の保持
- VBAマクロの処理
- リアルタイム共同編集機能
- オフライン動作
- OCR機能（画像化されたテキストの認識）

## 2. ステークホルダー

### 2.1 主要ステークホルダー
| ステークホルダー | 役割 | 期待値 |
|--------------|------|-------|
| エンドユーザー | サービス利用者 | 簡単で高品質な翻訳機能 |
| システム管理者 | システム運用・保守 | 安定した運用と管理機能 |
| 開発チーム | アプリケーション開発 | 明確な要件と技術的実現可能性 |
| ビジネスオーナー | 事業責任者 | 収益性とユーザー満足度 |

### 2.2 ユーザーペルソナ

#### ペルソナ1: ビジネスユーザー（山田太郎）
- 年齢: 35歳
- 職業: 外資系企業マーケティングマネージャー
- ニーズ: 海外向けプレゼン資料の迅速な翻訳
- 技術レベル: 中級

#### ペルソナ2: 教育関係者（鈴木花子）
- 年齢: 42歳
- 職業: 大学准教授
- ニーズ: 国際学会発表資料の多言語対応
- 技術レベル: 初級〜中級

#### ペルソナ3: フリーランス翻訳者（田中次郎）
- 年齢: 28歳
- 職業: フリーランス翻訳者
- ニーズ: 翻訳作業の効率化ツール
- 技術レベル: 上級

## 3. ビジネス要件

### 3.1 ビジネス目標とKPI

| 目標 | KPI | 目標値 | 測定方法 | 測定頻度 |
|------|-----|---------|-----------|----------|
| **効率化** | 翻訳作業時間削減率 | 80% | アップロードからダウンロードまでの時間 | 月次 |
| | TMヒット率 | 30%以上 | TMからの翻訳適用率 | 週次 |
| **品質向上** | 用語一貫性スコア | 95%以上 | TB適合率×一貫性チェック | プロジェクト毎 |
| | ユーザー満足度 | NPS 40+ | アンケート調査 | 四半期 |
| **ユーザー獲得** | MAU | 10,000 | 月間アクティブユーザー数 | 月次 |
| | コンバージョン率 | 5% | Free→Paid転換率 | 月次 |
| **収益化** | MRR | 200万円 | 月間経常収益 | 月次 |
| | チャーンレート | <5% | 月間解約率 | 月次 |

### 3.2 成功基準と優先度

#### 機能優先度（MoSCoW分析）

| 優先度 | 機能 | 理由 |
|---------|------|------|
| **MUST** | ファイルアップロード/ダウンロード | コア機能 |
| **MUST** | 非同期翻訳処理 | Vercel制限対応 |
| **MUST** | TM/TB機能 | 差別化要素 |
| **MUST** | ユーザー認証 | セキュリティ |
| **MUST** | Stripe決済 | 収益化 |
| **SHOULD** | ツインパネルUI | UX向上 |
| **SHOULD** | 変更履歴 | 品質管理 |
| **COULD** | ダークモード | UX向上 |
| **COULD** | API提供 | 拡張性 |
| **WON'T** | リアルタイム共編 | 複雑度高 |

### 3.3 制約条件と技術制限

#### ビジネス制約
- **予算**: 初期開発 500万円、月間運用 30万円
- **期間**: 3ヶ月でMVP、6ヶ月で本番リリース
- **リソース**: 開発5名、運用2名

#### 技術制限
- **Vercel Functions**: タイムアウト10秒→非同期処理必須
- **Supabase無料枠**: 500MBストレージ、2GB帯域
- **Claude API**: 5000リクエスト/分、100万トークン/月
- **ファイルサイズ**: 50MB/ファイル
- **Python処理**: Dockerコンテナ内でサンドボックス化

#### 法規制
- **GDPR**: EUユーザーのデータ保護
- **個人情報保護法**: 日本国内法準拠
- **著作権**: 翻訳コンテンツの権利関係明確化

## 4. システム要件概要

### 4.1 主要機能（トレーサビリティ付き）

| 機能ID | 機能名 | 説明 | 優先度 | 関連要件 |
|---------|---------|------|---------|----------|
| F-001 | ファイルアップロード | PPTXファイル（50MBまで）のアップロード、マジックナンバー検証 | MUST | BR-001 |
| F-002 | 非同期翻訳 | ジョブキューでの翻訳処理、進捗API | MUST | BR-001 |
| F-003 | TM/TB管理 | 翻訳メモリ・用語集の自動構築、TMX形式対応 | MUST | BR-002 |
| F-004 | ツインパネルUI | 左：スライド、右：テキストペア、ハイライト連動 | SHOULD | BR-003 |
| F-005 | ファイル管理 | 履歴、ダウンロード、削除、RLSによるアクセス制御 | MUST | BR-004 |
| F-006 | ユーザー認証 | Supabase Auth、OAuth対応、MFA | MUST | BR-005 |
| F-007 | 決済管理 | Stripeサブスク、Webhook処理 | MUST | BR-006 |

### 4.2 非機能要件概要（SLO/SLA定義）

| カテゴリ | 指標 | SLO | SLA | 測定方法 |
|----------|------|-----|-----|----------|
| **パフォーマンス** | APIレスポンス | p95 < 500ms | p99 < 1s | APMツール |
| | 翻訓ジョブ完了 | 90% < 60s | 95% < 120s | ジョブログ |
| **可用性** | 稼働率 | 99.9% | 99.5% | Uptime監視 |
| | RTO | < 1時間 | < 4時間 | 障害記録 |
| **セキュリティ** | 暗号化 | AES-256 | AES-256 | 監査 |
| | 認証失敗率 | < 0.1% | < 1% | Authログ |
| **スケーラビリティ** | 同時接続 | 1000 | 500 | メトリクス |
| **UX** | FCP | < 2s | < 3s | Lighthouse |

## 5. プロジェクト体制

### 5.1 開発体制
- プロジェクトマネージャー: 1名
- フロントエンド開発者: 2名
- バックエンド開発者: 2名
- UI/UXデザイナー: 1名
- QAエンジニア: 1名

### 5.2 開発方法論
- アジャイル開発（スクラム）
- 2週間スプリント
- CI/CDパイプライン構築

## 6. リスク分析

### 6.1 技術的リスク
| リスク | 影響度 | 発生確率 | 対策 | リスクオーナー |
|-------|-------|---------|------|-------------|
| Vercelタイムアウト | 高 | 高 | ジョブキュー実装、非同期処理 | バックエンド |
| TM/TB精度不足 | 中 | 中 | あいまい一致、手動編集 | PM |
| Pythonサンドボックス侵害 | 高 | 低 | Docker制限、最小権限 | DevOps |
| ファイル検証回避 | 高 | 低 | マジックナンバー検証 | セキュリティ |
| APIコスト爆発 | 高 | 中 | TMヒット率向上、レート制限 | ビジネス |

### 6.2 ビジネスリスク
| リスク | 影響度 | 発生確率 | 対策 |
|-------|-------|---------|------|
| 競合サービスの出現 | 中 | 高 | 差別化機能の継続開発 |
| APIコストの増大 | 高 | 中 | 使用量制限、キャッシュ戦略 |
| ユーザー獲得の遅れ | 高 | 中 | マーケティング強化、無料プラン提供 |

## 7. プロジェクトロードマップ

### Phase 1: MVP開発（3ヶ月）
- 基本的なアップロード・翻訳機能
- シンプルなUI実装
- ユーザー認証基盤

### Phase 2: 機能拡張（2ヶ月）
- プレビュー・編集機能
- ファイル管理機能
- 使用量制限実装

### Phase 3: 品質向上（1ヶ月）
- パフォーマンス最適化
- UIブラッシュアップ
- バグ修正・テスト

### Phase 4: 本番リリース
- プロダクション環境構築
- マーケティング開始
- ユーザーサポート体制確立

## 8. 承認

| 役割 | 氏名 | 承認日 | 署名 |
|------|------|--------|------|
| プロジェクトオーナー | | | |
| プロジェクトマネージャー | | | |
| 技術責任者 | | | |
| ビジネス責任者 | | | |

---
*ドキュメントバージョン: 1.0*  
*最終更新日: 2025年1月*