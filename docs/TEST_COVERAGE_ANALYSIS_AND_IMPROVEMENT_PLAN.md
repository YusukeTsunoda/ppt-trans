# ğŸ§ª ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸è©³ç´°åˆ†æã¨æ”¹å–„å®Ÿè£…è¨ˆç”»

**åˆ†ææ—¥æ™‚**: 2025-01-26  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: PowerPoint Translator  
**ç¾åœ¨ã®ã‚«ãƒãƒ¬ãƒƒã‚¸**: 2.13% (æ¥µã‚ã¦ä½ã„)

---

## ğŸ“Š ç¾çŠ¶åˆ†æ

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«åˆ†å¸ƒ
```
ç·ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ•°: 402
â”œâ”€â”€ Unit Tests: 352ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ tests/components: 15ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ tests/hooks: 5ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ tests/lib: 25ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ tests/app: 7ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ E2E Tests: 50ãƒ•ã‚¡ã‚¤ãƒ«
```

### ğŸ”´ é‡å¤§ãªå•é¡Œ
**å®Ÿéš›ã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸: 2.13%**
- Statements: 2.13%
- Branches: 1.40%
- Functions: 1.70%
- Lines: 2.21%

402å€‹ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã«ã‚‚é–¢ã‚ã‚‰ãšã€å®Ÿéš›ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒæ¥µç«¯ã«ä½ã„ã€‚ã“ã‚Œã¯å¤šãã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒï¼š
1. ç©ºã¾ãŸã¯ã‚¹ã‚±ãƒ«ãƒˆãƒ³çŠ¶æ…‹
2. å®Ÿè£…ã•ã‚Œã¦ã„ãªã„
3. ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¦ã„ã‚‹

---

## ğŸš¨ ã‚«ãƒãƒ¬ãƒƒã‚¸ä¸è¶³ã®é‡è¦é ˜åŸŸ

### 1. å®Œå…¨ã«æ¬ è½ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆ

#### ğŸ”´ Landingãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ0%ã‚«ãƒãƒ¬ãƒƒã‚¸ï¼‰
```
src/components/landing/
â”œâ”€â”€ Hero.tsx        âŒ ãƒ†ã‚¹ãƒˆãªã—
â”œâ”€â”€ Features.tsx    âŒ ãƒ†ã‚¹ãƒˆãªã—
â”œâ”€â”€ Pricing.tsx     âŒ ãƒ†ã‚¹ãƒˆãªã—
â”œâ”€â”€ HowItWorks.tsx  âŒ ãƒ†ã‚¹ãƒˆãªã—
â”œâ”€â”€ Header.tsx      âŒ ãƒ†ã‚¹ãƒˆãªã—
â””â”€â”€ Footer.tsx      âŒ ãƒ†ã‚¹ãƒˆãªã—
```

#### ğŸ”´ Server Actionsï¼ˆéƒ¨åˆ†çš„ã‚«ãƒãƒ¬ãƒƒã‚¸ï¼‰
```
src/app/actions/
â”œâ”€â”€ auth.ts         âœ… ãƒ†ã‚¹ãƒˆã‚ã‚Š
â”œâ”€â”€ dashboard.ts    âœ… ãƒ†ã‚¹ãƒˆã‚ã‚Š
â”œâ”€â”€ files.ts        âŒ ãƒ†ã‚¹ãƒˆãªã—
â”œâ”€â”€ generation.ts   âŒ ãƒ†ã‚¹ãƒˆãªã—
â”œâ”€â”€ profile.ts      âŒ ãƒ†ã‚¹ãƒˆãªã—
â”œâ”€â”€ upload.ts       âŒ ãƒ†ã‚¹ãƒˆãªã—
â””â”€â”€ types.ts        âŒ ãƒ†ã‚¹ãƒˆãªã—
```

#### ğŸ”´ é‡è¦ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
```
src/lib/
â”œâ”€â”€ translation/TranslationManager.ts  âš ï¸ éƒ¨åˆ†çš„
â”œâ”€â”€ cache/CacheManager.ts             âš ï¸ éƒ¨åˆ†çš„
â”œâ”€â”€ upload/FileUploadManager.ts       âŒ ãƒ†ã‚¹ãƒˆãªã—
â”œâ”€â”€ download/DownloadManager.ts       âŒ ãƒ†ã‚¹ãƒˆãªã—
â””â”€â”€ api/ApiClient.ts                  âŒ ãƒ†ã‚¹ãƒˆãªã—
```

### 2. E2Eãƒ†ã‚¹ãƒˆã®ã‚®ãƒ£ãƒƒãƒ—
```
ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹:
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ² â†’ ãƒ­ã‚°ã‚¤ãƒ³         âš ï¸ éƒ¨åˆ†çš„
2. ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰           âš ï¸ éƒ¨åˆ†çš„
3. ç¿»è¨³å‡¦ç†                      âš ï¸ éƒ¨åˆ†çš„
4. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼                    âŒ ä¸å®Œå…¨
5. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰                  âŒ ä¸å®Œå…¨
```

---

## ğŸ“‹ å…·ä½“çš„ãªæ”¹å–„å®Ÿè£…è¨ˆç”»

### ãƒ•ã‚§ãƒ¼ã‚º1: åŸºç›¤æ•´å‚™ï¼ˆ1é€±é–“ï¼‰

#### 1.1 ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ä¿®æ­£
```bash
# jest.config.jsã®æ›´æ–°
module.exports = {
  collectCoverageFrom: [
    'src/**/*.{ts,tsx}',
    '!src/**/*.d.ts',
    '!src/**/types.ts',
    '!src/**/*.stories.tsx'
  ],
  coverageThreshold: {
    global: {
      branches: 50,
      functions: 50,
      lines: 50,
      statements: 50
    }
  },
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  testEnvironment: 'jsdom'
};
```

#### 1.2 ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½œæˆ
```typescript
// tests/utils/test-helpers.ts
import { render as rtlRender } from '@testing-library/react';
import { ThemeProvider } from '@/components/ThemeProvider';
import { AuthProvider } from '@/components/AuthProvider';

export function renderWithProviders(ui: React.ReactElement) {
  return rtlRender(
    <AuthProvider>
      <ThemeProvider>
        {ui}
      </ThemeProvider>
    </AuthProvider>
  );
}

// tests/utils/mock-data.ts
export const mockUser = {
  id: 'test-user-id',
  email: 'test@example.com',
  role: 'user'
};

export const mockFile = {
  id: 'file-id',
  filename: 'test.pptx',
  original_name: 'presentation.pptx',
  file_size: 1024000,
  status: 'uploaded'
};
```

### ãƒ•ã‚§ãƒ¼ã‚º2: Critical Path Testsï¼ˆ2é€±é–“ï¼‰

#### 2.1 Landingãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
```typescript
// tests/components/landing/Hero.test.tsx
import { render, screen } from '@testing-library/react';
import { Hero } from '@/components/landing/Hero';

describe('Hero Component', () => {
  it('ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¡¨ç¤ºã™ã‚‹', () => {
    render(<Hero />);
    expect(screen.getByText(/PowerPointã‚’/)).toBeInTheDocument();
    expect(screen.getByText(/ç¬æ™‚ã«ç¿»è¨³/)).toBeInTheDocument();
  });

  it('CTAãƒœã‚¿ãƒ³ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {
    render(<Hero />);
    expect(screen.getByText('ç„¡æ–™ã§å§‹ã‚ã‚‹')).toBeInTheDocument();
    expect(screen.getByText('ä»Šã™ãã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰')).toBeInTheDocument();
  });

  it('é©åˆ‡ãªãƒªãƒ³ã‚¯å…ˆã‚’æŒã¤', () => {
    render(<Hero />);
    const registerLink = screen.getByRole('link', { name: /ç„¡æ–™ã§å§‹ã‚ã‚‹/ });
    expect(registerLink).toHaveAttribute('href', '/register');
  });
});
```

#### 2.2 Server Actionsçµ±åˆãƒ†ã‚¹ãƒˆ
```typescript
// tests/app/actions/upload.test.ts
import { uploadFileAction } from '@/app/actions/upload';
import { createClient } from '@/lib/supabase/server';

jest.mock('@/lib/supabase/server');

describe('uploadFileAction', () => {
  const mockSupabase = {
    storage: {
      from: jest.fn().mockReturnThis(),
      upload: jest.fn()
    },
    from: jest.fn().mockReturnThis(),
    insert: jest.fn().mockReturnThis(),
    select: jest.fn().mockReturnThis(),
    single: jest.fn()
  };

  beforeEach(() => {
    (createClient as jest.Mock).mockResolvedValue(mockSupabase);
  });

  it('ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ­£å¸¸ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹', async () => {
    const formData = new FormData();
    const file = new File(['content'], 'test.pptx', { 
      type: 'application/vnd.openxmlformats-officedocument.presentationml.presentation' 
    });
    formData.append('file', file);

    mockSupabase.storage.upload.mockResolvedValue({
      data: { path: 'uploads/test.pptx' },
      error: null
    });

    mockSupabase.single.mockResolvedValue({
      data: { id: 'file-id', filename: 'test.pptx' },
      error: null
    });

    const result = await uploadFileAction(null, formData);

    expect(result.success).toBe(true);
    expect(result.file).toBeDefined();
    expect(mockSupabase.storage.upload).toHaveBeenCalled();
  });

  it('å¤§ãã™ãã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‹’å¦ã™ã‚‹', async () => {
    const formData = new FormData();
    const largeContent = new Array(101 * 1024 * 1024).join('a'); // 101MB
    const file = new File([largeContent], 'large.pptx');
    formData.append('file', file);

    const result = await uploadFileAction(null, formData);

    expect(result.success).toBe(false);
    expect(result.error).toContain('100MB');
  });
});
```

#### 2.3 E2E Critical Path
```typescript
// e2e/critical-user-journey.spec.ts
import { test, expect } from '@playwright/test';

test.describe('ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼å…¨ä½“ãƒ•ãƒ­ãƒ¼', () => {
  test('æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™»éŒ²ã‹ã‚‰ç¿»è¨³å®Œäº†ã¾ã§', async ({ page }) => {
    // 1. LPãƒšãƒ¼ã‚¸è¨ªå•
    await page.goto('/');
    await expect(page.locator('h1')).toContainText('PowerPointã‚’');
    
    // 2. ç™»éŒ²
    await page.click('text=ç„¡æ–™ã§å§‹ã‚ã‚‹');
    await page.fill('input[name="email"]', 'test@example.com');
    await page.fill('input[name="password"]', 'Test123!');
    await page.click('button[type="submit"]');
    
    // 3. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç¢ºèª
    await expect(page).toHaveURL('/dashboard');
    
    // 4. ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
    await page.click('text=æ–°è¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰');
    const fileInput = page.locator('input[type="file"]');
    await fileInput.setInputFiles('tests/fixtures/sample.pptx');
    await page.click('text=ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰');
    
    // 5. ç¿»è¨³å®Ÿè¡Œ
    await page.click('text=ç¿»è¨³');
    await expect(page.locator('.progress-bar')).toBeVisible();
    
    // 6. å®Œäº†ç¢ºèª
    await expect(page.locator('text=ç¿»è¨³å®Œäº†')).toBeVisible({ timeout: 30000 });
  });
});
```

### ãƒ•ã‚§ãƒ¼ã‚º3: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ†ã‚¹ãƒˆï¼ˆ1é€±é–“ï¼‰

#### 3.1 TranslationManagerå®Œå…¨ãƒ†ã‚¹ãƒˆ
```typescript
// tests/lib/translation/TranslationManager.test.ts
describe('TranslationManager', () => {
  describe('translateText', () => {
    it('çŸ­ã„ãƒ†ã‚­ã‚¹ãƒˆã‚’ç¿»è¨³ã™ã‚‹', async () => {
      // å®Ÿè£…
    });
    
    it('é•·ã„ãƒ†ã‚­ã‚¹ãƒˆã‚’åˆ†å‰²ã—ã¦ç¿»è¨³ã™ã‚‹', async () => {
      // å®Ÿè£…
    });
    
    it('å°‚é–€ç”¨èªè¾æ›¸ã‚’é©ç”¨ã™ã‚‹', async () => {
      // å®Ÿè£…
    });
    
    it('ã‚¨ãƒ©ãƒ¼æ™‚ã«ãƒªãƒˆãƒ©ã‚¤ã™ã‚‹', async () => {
      // å®Ÿè£…
    });
  });
});
```

### ãƒ•ã‚§ãƒ¼ã‚º4: ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™é”æˆï¼ˆ2é€±é–“ï¼‰

#### ç›®æ¨™ãƒ¡ãƒˆãƒªã‚¯ã‚¹
```
Week 1: 20% â†’ 40%
Week 2: 40% â†’ 60%
Week 3: 60% â†’ 75%
Week 4: 75% â†’ 80%
```

#### å„ªå…ˆé †ä½ãƒãƒˆãƒªãƒƒã‚¯ã‚¹
| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | é‡è¦åº¦ | ç¾åœ¨ | ç›®æ¨™ | å·¥æ•° |
|--------------|--------|------|------|------|
| Server Actions | ğŸ”´é«˜ | 30% | 90% | 3æ—¥ |
| Landing Pages | ğŸ”´é«˜ | 0% | 80% | 2æ—¥ |
| Upload Flow | ğŸ”´é«˜ | 20% | 90% | 2æ—¥ |
| Translation | ğŸ”´é«˜ | 15% | 85% | 3æ—¥ |
| Dashboard | ğŸŸ¡ä¸­ | 40% | 80% | 2æ—¥ |
| Profile | ğŸŸ¢ä½ | 10% | 60% | 1æ—¥ |

---

## ğŸš€ å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Week 1: åŸºç›¤ã¨Critical Path
- [ ] Day 1-2: ãƒ†ã‚¹ãƒˆç’°å¢ƒä¿®æ­£ã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½œæˆ
- [ ] Day 3-4: Landingãƒšãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆå®Ÿè£…
- [ ] Day 5: Server Actions (upload, files)ãƒ†ã‚¹ãƒˆ

### Week 2: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
- [ ] Day 1-2: TranslationManagerãƒ†ã‚¹ãƒˆ
- [ ] Day 3-4: CacheManager, FileUploadManagerãƒ†ã‚¹ãƒˆ
- [ ] Day 5: APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ

### Week 3: E2Eå¼·åŒ–
- [ ] Day 1-2: Critical User Journeyãƒ†ã‚¹ãƒˆ
- [ ] Day 3-4: ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã€ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹
- [ ] Day 5: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

### Week 4: å“è³ªå‘ä¸Š
- [ ] Day 1-2: æ®‹ã‚Šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
- [ ] Day 3: ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚®ãƒ£ãƒƒãƒ—åˆ†æ
- [ ] Day 4-5: æœ€çµ‚èª¿æ•´ã€CI/CDçµ±åˆ

---

## ğŸ“ˆ æˆåŠŸæŒ‡æ¨™

### å¿…é ˆé”æˆé …ç›®
1. **ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š**
2. **Critical Pathã®100%ã‚«ãƒãƒ¼**
3. **å…¨Server Actionsã®ãƒ†ã‚¹ãƒˆå®Ÿè£…**
4. **E2Eä¸»è¦ãƒ•ãƒ­ãƒ¼5æœ¬ä»¥ä¸Š**

### CI/CDçµ±åˆ
```yaml
# .github/workflows/test.yml
- name: Run tests with coverage
  run: |
    npm test -- --coverage
    npm run test:e2e
    
- name: Coverage Check
  run: |
    npm run coverage:check
    
- name: Upload coverage
  uses: codecov/codecov-action@v3
```

### ç›£è¦–ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“: < 5åˆ†
- E2Eãƒ†ã‚¹ãƒˆå®‰å®šæ€§: > 95%
- ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒˆãƒ¬ãƒ³ãƒ‰: é€±10%å‘ä¸Š

---

## ğŸ¯ çµè«–

ç¾åœ¨ã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸2.13%ã¯å±æ©Ÿçš„ãƒ¬ãƒ™ãƒ«ã§ã™ã€‚402å€‹ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å¤šããŒæœªå®Ÿè£…ã¾ãŸã¯ä¸å®Œå…¨ãªçŠ¶æ…‹ã€‚

**ç·Šæ€¥å¯¾å¿œãŒå¿…è¦**:
1. Week 1ã§Critical Pathã®åŸºæœ¬ãƒ†ã‚¹ãƒˆã‚’å®Ÿè£…
2. Week 2-3ã§ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚«ãƒãƒ¼
3. Week 4ã§80%ã‚«ãƒãƒ¬ãƒƒã‚¸é”æˆ

ã“ã®è¨ˆç”»ã«ã‚ˆã‚Šã€4é€±é–“ã§æœ¬ç•ªç’°å¢ƒã«é©ã—ãŸãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚